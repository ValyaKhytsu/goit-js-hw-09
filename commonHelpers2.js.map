{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import 'modern-normalize/modern-normalize.css';\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nconst LS_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nstorageCheck(LS_KEY);\nform.addEventListener('input', formInputHandler);\nform.addEventListener('submit', formSubmitHandler);\n\nfunction storageCheck(key) {\n  let storage = JSON.parse(localStorage.getItem(key));\n  const { email: emailData, message: msgData } = form.elements;\n  if (storage) {\n    emailData.value = storage.email;\n    formData.email = storage.email;\n    msgData.value = storage.message;\n    formData.message = storage.message;\n  }\n}\n\nfunction formInputHandler(evt) {\n  const { email, message } = evt.currentTarget.elements;\n  formData.email = email.value.trim();\n  formData.message = message.value.trim();\n  localStorage.setItem(LS_KEY, JSON.stringify(formData));\n}\n\nfunction formSubmitHandler(evt) {\n  evt.preventDefault();\n  const { email, message } = formData;\n  if (email === '' || message === '') {\n    alert('Fill please all fieldsüôè');\n    return;\n  }\n  console.log(formData);\n  localStorage.removeItem(LS_KEY);\n\n  const { email: input, message: textarea } = evt.currentTarget.elements;\n  input.value = '';\n  textarea.value = '';\n}\n"],"names":["formData","LS_KEY","form","storageCheck","formInputHandler","formSubmitHandler","key","storage","emailData","msgData","evt","email","message","input","textarea"],"mappings":"4HAEA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAS,sBAETC,EAAO,SAAS,cAAc,gBAAgB,EAEpDC,EAAaF,CAAM,EACnBC,EAAK,iBAAiB,QAASE,CAAgB,EAC/CF,EAAK,iBAAiB,SAAUG,CAAiB,EAEjD,SAASF,EAAaG,EAAK,CACzB,IAAIC,EAAU,KAAK,MAAM,aAAa,QAAQD,CAAG,CAAC,EAClD,KAAM,CAAE,MAAOE,EAAW,QAASC,CAAS,EAAGP,EAAK,SAChDK,IACFC,EAAU,MAAQD,EAAQ,MAC1BP,EAAS,MAAQO,EAAQ,MACzBE,EAAQ,MAAQF,EAAQ,QACxBP,EAAS,QAAUO,EAAQ,QAE/B,CAEA,SAASH,EAAiBM,EAAK,CAC7B,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAI,cAAc,SAC7CV,EAAS,MAAQW,EAAM,MAAM,KAAI,EACjCX,EAAS,QAAUY,EAAQ,MAAM,KAAI,EACrC,aAAa,QAAQX,EAAQ,KAAK,UAAUD,CAAQ,CAAC,CACvD,CAEA,SAASK,EAAkBK,EAAK,CAC9BA,EAAI,eAAc,EAClB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAS,EAAGZ,EAC3B,GAAIW,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,0BAA0B,EAChC,MACD,CACD,QAAQ,IAAIZ,CAAQ,EACpB,aAAa,WAAWC,CAAM,EAE9B,KAAM,CAAE,MAAOY,EAAO,QAASC,CAAQ,EAAKJ,EAAI,cAAc,SAC9DG,EAAM,MAAQ,GACdC,EAAS,MAAQ,EACnB"}